<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">(OpenCV - Chap5) OpenCV 인터페이스</h1><p class="page-description">사용자 인터페이스를 위한 기본 함수인 윈도우에 그리기 함수와 이벤트 함수를 알아본다.}</p><p class="post-meta post-meta-title"><time class="dt-published" datetime="2022-09-02T00:00:00-05:00" itemprop="datePublished">
        Sep 2, 2022
      </time>• 
          <span itemprop="author" itemscope itemtype="http://schema.org/Person">
            <span class="p-author h-card" itemprop="name">pinkocto</span></span>
       • <span class="read-time" title="Estimated read time">
    
    
      4 min read
    
</span></p>

    
      <p class="category-tags"><i class="fas fa-tags category-tags-icon"></i></i> 
      
        <a class="category-tags-link" href="/BP2022/categories/#python">python</a>
        
      
      </p>
    

    
      </header>

  <div class="post-content e-content" itemprop="articleBody">
    <ul id="toc" class="section-nav">
<li class="toc-entry toc-h2"><a href="#4.1-윈도우-제어">4.1 윈도우 제어 </a></li>
<li class="toc-entry toc-h2"><a href="#4.1-이벤트-처리-함수">4.1 이벤트 처리 함수 </a>
<ul>
<li class="toc-entry toc-h3"><a href="#4.2.1-키보드-이벤트-제어">4.2.1 키보드 이벤트 제어 </a>
<ul>
<li class="toc-entry toc-h4"><a href="#--cv2.waitKey([,-delay)">- cv2.waitKey([, delay) </a></li>
</ul>
</li>
<li class="toc-entry toc-h3"><a href="#4.2.2-마우스-이벤트-제어">4.2.2 마우스 이벤트 제어 </a></li>
<li class="toc-entry toc-h3"><a href="#4.2.3-트랙바-이벤트-제어">4.2.3 트랙바 이벤트 제어 </a></li>
</ul>
</li>
<li class="toc-entry toc-h2"><a href="#4.3-그리기-함수">4.3 그리기 함수 </a></li>
</ul><!--
#################################################
### THIS FILE WAS AUTOGENERATED! DO NOT EDIT! ###
#################################################
# file to edit: _notebooks/2022-09-02-chap4.ipynb
-->

<div class="container" id="notebook-container">
        
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="4.1-윈도우-제어">
<a class="anchor" href="#4.1-%EC%9C%88%EB%8F%84%EC%9A%B0-%EC%A0%9C%EC%96%B4" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.1 윈도우 제어<a class="anchor-link" href="#4.1-%EC%9C%88%EB%8F%84%EC%9A%B0-%EC%A0%9C%EC%96%B4"> </a>
</h2>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>영상처리를 간단히 말하면, 2차원 행렬에 대한 연산이라 할 수 있다. 여기서 행렬에 대한 다양한 연산 과정에서 행렬 원소의 값이 변한다. 이 때 변화된 행렬의 화소들을 윈도우에 영상으로 바로 표시할 수 있다면 적용된 행렬 연산의 의미를 이해하기가 훨씬 더 쉬울 것이다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>OpenCV에서는 윈도우(window, 창)가 활성화된 상태에서만 마우스나 키보드 이벤트를 감지할 수 있다. 따라서 이런 이벤트를 감지해서 처리하려면 윈도우를 생성하고 제어할 수 있어야 한다.</p>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">cv2</span>

<span class="n">image</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span> <span class="mi">400</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>             <span class="c1"># 행렬 생성</span>
<span class="n">image</span><span class="p">[:]</span> <span class="o">=</span> <span class="mi">200</span>                                     <span class="c1"># 밝은 회색(200) 바탕 영상 생성</span>

<span class="n">title1</span><span class="p">,</span> <span class="n">title2</span> <span class="o">=</span> <span class="s1">'Position1'</span><span class="p">,</span> <span class="s1">'Position2'</span>          <span class="c1"># 윈도우 이름</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">namedWindow</span><span class="p">(</span><span class="n">title1</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">WINDOW_AUTOSIZE</span><span class="p">)</span>       <span class="c1"># 윈도우 생성 및 크기조절 옵션</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">namedWindow</span><span class="p">(</span><span class="n">title2</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">moveWindow</span><span class="p">(</span><span class="n">title1</span><span class="p">,</span> <span class="mi">150</span><span class="p">,</span> <span class="mi">150</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">moveWindow</span><span class="p">(</span><span class="n">title2</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">50</span><span class="p">)</span>

<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">title1</span><span class="p">,</span> <span class="n">image</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">title2</span><span class="p">,</span> <span class="n">image</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>

<span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">image</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">



<div class="output_text output_subarea output_execute_result">
<pre>array([[200, 200, 200, ..., 200, 200, 200],
       [200, 200, 200, ..., 200, 200, 200],
       [200, 200, 200, ..., 200, 200, 200],
       ...,
       [200, 200, 200, ..., 200, 200, 200],
       [200, 200, 200, ..., 200, 200, 200],
       [200, 200, 200, ..., 200, 200, 200]], dtype=uint8)</pre>
</div>

</div>

</div>
</div>

</div>
    

    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">cv2</span>

<span class="n">image</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span><span class="mi">300</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>        <span class="c1"># ndarray 행렬 생성</span>
<span class="n">image</span><span class="o">.</span><span class="n">fill</span><span class="p">(</span><span class="mi">255</span><span class="p">)</span>                              <span class="c1"># 모든 원소에 255(흰색) 지정</span>
<span class="n">image</span><span class="p">,</span> <span class="n">image</span><span class="o">.</span><span class="n">shape</span>

<span class="n">title1</span><span class="p">,</span> <span class="n">title2</span> <span class="o">=</span> <span class="s1">'AUTOSIZE'</span><span class="p">,</span> <span class="s1">'NORMAL'</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">namedWindow</span><span class="p">(</span><span class="n">title1</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">WINDOW_AUTOSIZE</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">namedWindow</span><span class="p">(</span><span class="n">title2</span><span class="p">,</span> <span class="n">cv2</span><span class="o">.</span><span class="n">WINDOW_NORMAL</span><span class="p">)</span>
<span class="c1"># cv2.moveWindow(title1, 150, 150)              # 윈도우 이동 - 위치 지정</span>
<span class="c1"># cv2.moveWindow(title2, 400, 50)               </span>

<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s1">'image'</span><span class="p">,</span> <span class="n">image</span><span class="p">)</span>                    <span class="c1"># 원본 이미지</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">title1</span><span class="p">,</span> <span class="n">image</span><span class="p">)</span>                     <span class="c1"># AUTOSIZE</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">title2</span><span class="p">,</span> <span class="n">image</span><span class="p">)</span>                     <span class="c1"># NORMAL</span>

<span class="n">cv2</span><span class="o">.</span><span class="n">resizeWindow</span><span class="p">(</span><span class="n">title1</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>             <span class="c1"># 윈도우 크기 변경</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">resizeWindow</span><span class="p">(</span><span class="n">title2</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">300</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>                                  <span class="c1"># 키 이벤트 대기</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>                         <span class="c1"># 열린 모든 윈도우 닫기</span>
</pre></div>

    </div>
</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<ul>
<li>실행결과, 행렬을 두 윈도우에 영상을 표시한 후에 cv2.resizeWindow() 영상의 크기를 가로 400화소, 세로 300화소로 변경한다. 여기서 두 윈도우에 나타나는 영상(image 행렬)의 형태가 다르다.</li>
<li>즉, <code>AUTOSIZE</code> 윈도우는 행렬의 크기 변경 없이 윈도우의 크기만 바꾸며,</li>
<li>
<code>NORMAL</code> 윈도우는 변경된 윈도우와 동일하게 행렬의 크기도 바뀐다. 단, image 행렬의 실제 크기를 바꾸는 것이 아니라 보여지는 형태만 바꾸는 것</li>
</ul>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="4.1-이벤트-처리-함수">
<a class="anchor" href="#4.1-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%B2%98%EB%A6%AC-%ED%95%A8%EC%88%98" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.1 이벤트 처리 함수<a class="anchor-link" href="#4.1-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%B2%98%EB%A6%AC-%ED%95%A8%EC%88%98"> </a>
</h2>
<blockquote>
<p>OpenCV에서 지원하는 이벤트 처리 함수에 대해 배워본다.</p>
</blockquote>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>대표적인 이벤트 발생은 사용자가 마우스를 움직인다거나 키보드의 키를 누르는 것 등이 대표적이다. 윈도우 운영체제에서는 다양한 이벤트가 발생하며, 이러한 이벤트 처리를 통해 사용하기 편리한 대화형 프로그램을 만들 수 있다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>일반적으로 이벤트를 처리하기 위해 <code>콜백(callback) 함수</code>를 사용한다. 콜백 함수는 개발자가 시스템 함수를 직접 호출하는 방식이 아니라, 어떤 이벤트가 발생하거나 특정 시점에 도달했을 때 시스템이 개발자가 등록한 함수를 호출하는 것.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>OpenCV에서도 기본적인 이벤트 처리 함수들을 지원한다. 대표적으로 키보드 이벤트, 마우스 이벤트, 트랙바(trackbar) 이벤트를 처리하는 콜백 함수들이 있다.</p>

</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="4.2.1-키보드-이벤트-제어">
<a class="anchor" href="#4.2.1-%ED%82%A4%EB%B3%B4%EB%93%9C-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%A0%9C%EC%96%B4" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.2.1 키보드 이벤트 제어<a class="anchor-link" href="#4.2.1-%ED%82%A4%EB%B3%B4%EB%93%9C-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%A0%9C%EC%96%B4"> </a>
</h3>
</div>
</div>
</div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="--cv2.waitKey([,-delay)">
<a class="anchor" href="#--cv2.waitKey(%5B,-delay)" aria-hidden="true"><span class="octicon octicon-link"></span></a><code>-</code> cv2.waitKey([, delay)<a class="anchor-link" href="#--cv2.waitKey(%5B,-delay)"> </a>
</h4>
<ul>
<li>delay $\leq 0 $ : 키 이벤트 발생까지 무한대기</li>
<li>delay &gt; $0$ : 지연 시간 동안 키 입력 대기, 지연 시간 안에 키 이벤트 없으면 -1 반환</li>
</ul>

</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">cv2</span>

<span class="c1"># switch case문을 사전으로 구현</span>
<span class="n">switch_case</span> <span class="p">{</span>
    <span class="nb">ord</span><span class="p">(</span><span class="s1">'a'</span><span class="p">):</span> <span class="s2">"a키 입력"</span><span class="p">,</span>         <span class="c1"># ord()함수: 문자를 아스키코드로 변환</span>
    <span class="nb">ord</span><span class="p">(</span><span class="s1">'b'</span><span class="p">):</span> <span class="s2">"b키 입력"</span>
    <span class="mh">0x41</span><span class="p">:</span> <span class="s2">"A키 입력"</span><span class="p">,</span>
    <span class="nb">int</span><span class="p">(</span><span class="s1">'ox42'</span><span class="p">,</span> <span class="mi">16</span><span class="p">):</span> <span class="s2">"B키 입력"</span><span class="p">,</span>
    <span class="mi">2424832</span><span class="p">:</span> <span class="s2">"왼쪽 화살표키 입력"</span><span class="p">,</span>
    <span class="mi">2490368</span><span class="p">:</span> <span class="s2">"윗쪽 화살표키 입력"</span><span class="p">,</span>
    <span class="mi">2555904</span><span class="p">:</span> <span class="s2">"오른쪽 화살표키 입력"</span><span class="p">,</span>
    <span class="mi">2621440</span><span class="p">:</span> <span class="s2">"아래쪽 화살표키 입력"</span>
<span class="p">}</span>

<span class="n">image</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span><span class="mi">300</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">float</span><span class="p">)</span>    <span class="c1"># 원소값이 1인 행렬 생성</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">namedWindow</span><span class="p">(</span><span class="s2">"Keyboard Event"</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="s2">"Keyboard Event"</span><span class="p">,</span> <span class="n">image</span><span class="p">)</span>

<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>                            <span class="c1"># 무한 반복</span>
    <span class="n">key</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">waitKeyEx</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>            <span class="c1"># 100ms 동안 키 이벤트 대기</span>
    <span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="mi">27</span><span class="p">:</span> <span class="k">break</span>                <span class="c1"># ESC 키 누르면 종료</span>
        
    <span class="k">try</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">switch_cas</span><span class="p">[</span><span class="n">key</span><span class="p">]</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">result</span><span class="p">)</span>
    <span class="k">except</span> <span class="n">keyError</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
        
<span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>                 <span class="c1"># 열른 모든 윈도우 제거</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_text output_error">
<pre>
<span class="ansi-cyan-intense-fg ansi-bold">  Cell </span><span class="ansi-green-intense-fg ansi-bold">In [5], line 5</span>
<span class="ansi-yellow-intense-fg ansi-bold">    switch_case {</span>
<span class="ansi-white-intense-fg ansi-bold">                ^</span>
<span class="ansi-red-intense-fg ansi-bold">SyntaxError</span><span class="ansi-red-intense-fg ansi-bold">:</span> invalid syntax
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="4.2.2-마우스-이벤트-제어">
<a class="anchor" href="#4.2.2-%EB%A7%88%EC%9A%B0%EC%8A%A4-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%A0%9C%EC%96%B4" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.2.2 마우스 이벤트 제어<a class="anchor-link" href="#4.2.2-%EB%A7%88%EC%9A%B0%EC%8A%A4-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%A0%9C%EC%96%B4"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">cv2</span>

<span class="k">def</span> <span class="nf">onMouse</span><span class="p">(</span><span class="n">event</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">flags</span><span class="p">,</span> <span class="n">param</span><span class="p">):</span>
    <span class="k">if</span> <span class="n">event</span> <span class="o">==</span> <span class="n">cv2</span><span class="o">.</span><span class="n">EVENT_LBUTTONDOWN</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'마우스 왼쪽 버튼 누르기'</span><span class="p">)</span>
    
    <span class="k">elif</span> <span class="n">event</span> <span class="o">==</span> <span class="n">cv2</span><span class="o">.</span><span class="n">EVENT_RBUTTONDOWN</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'마우스 오른쪽 버튼 누르기'</span><span class="p">)</span>
        
    <span class="k">elif</span> <span class="n">event</span> <span class="o">==</span> <span class="n">cv2</span><span class="o">.</span><span class="n">EVENT_LBUTTONUP</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'마우스 왼쪽 버튼 떼기'</span><span class="p">)</span>
        
    <span class="k">elif</span> <span class="n">event</span> <span class="o">==</span> <span class="n">cv2</span><span class="o">.</span><span class="n">EVENT_RBUTTONUP</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'마우스 오른쪽 버튼 떼기'</span><span class="p">)</span>
        
    <span class="k">elif</span> <span class="n">event</span> <span class="o">==</span> <span class="n">cv2</span><span class="o">.</span><span class="n">EVENT_LBUTTONDBLCLK</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s1">'마우스 왼쪽 버튼 더블 클릭'</span><span class="p">)</span>
        
<span class="n">image</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">((</span><span class="mi">200</span><span class="p">,</span> <span class="mi">300</span><span class="p">),</span> <span class="mi">255</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>  <span class="c1"># 초기 영상 생성</span>

<span class="n">title1</span><span class="p">,</span> <span class="n">title2</span> <span class="o">=</span> <span class="s2">"Mouse Event1"</span><span class="p">,</span> <span class="s2">"Mouse Event2"</span>   <span class="c1"># 윈도우 이름</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">title1</span><span class="p">,</span> <span class="n">image</span><span class="p">)</span>                         <span class="c1"># 영상 보기</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">title2</span><span class="p">,</span> <span class="n">image</span><span class="p">)</span>

<span class="n">cv2</span><span class="o">.</span><span class="n">setMouseCallback</span><span class="p">(</span><span class="n">title1</span><span class="p">,</span> <span class="n">onMouse</span><span class="p">)</span>       <span class="c1"># 마우스 콜백 함수</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>마우스 왼쪽 버튼 누르기
마우스 왼쪽 버튼 떼기
마우스 오른쪽 버튼 누르기
마우스 오른쪽 버튼 떼기
마우스 왼쪽 버튼 누르기
마우스 왼쪽 버튼 떼기
마우스 왼쪽 버튼 더블 클릭
마우스 왼쪽 버튼 누르기
마우스 왼쪽 버튼 떼기
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="4.2.3-트랙바-이벤트-제어">
<a class="anchor" href="#4.2.3-%ED%8A%B8%EB%9E%99%EB%B0%94-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%A0%9C%EC%96%B4" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.2.3 트랙바 이벤트 제어<a class="anchor-link" href="#4.2.3-%ED%8A%B8%EB%9E%99%EB%B0%94-%EC%9D%B4%EB%B2%A4%ED%8A%B8-%EC%A0%9C%EC%96%B4"> </a>
</h3>
</div>
</div>
</div>
    
    
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">cv2</span>

<span class="k">def</span> <span class="nf">onChange</span><span class="p">(</span><span class="n">value</span><span class="p">):</span>      <span class="c1"># 트랙바 콜백 함수</span>
    <span class="k">global</span> <span class="n">image</span><span class="p">,</span> <span class="n">title</span>   <span class="c1"># 전역 변수 참조</span>
    
    <span class="n">add_value</span> <span class="o">=</span> <span class="n">value</span> <span class="o">-</span> <span class="nb">int</span><span class="p">(</span><span class="n">image</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">])</span>   <span class="c1"># 트랙바 값과 영상 화소값 차분</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">'추가 화소값:'</span><span class="p">,</span> <span class="n">add_value</span><span class="p">)</span>
    <span class="n">image</span> <span class="o">=</span> <span class="n">image</span> <span class="o">+</span> <span class="n">add_value</span>              <span class="c1"># 행렬과 스칼라 덧셈 수행</span>
    <span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">title</span><span class="p">,</span><span class="n">image</span><span class="p">)</span>

    
<span class="n">image</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">300</span><span class="p">,</span> <span class="mi">500</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>    <span class="c1"># 영상 생성</span>

<span class="n">title</span> <span class="o">=</span> <span class="s1">'Trackbar Event'</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="n">image</span><span class="p">)</span>

<span class="n">cv2</span><span class="o">.</span><span class="n">createTrackbar</span><span class="p">(</span><span class="s1">'Brightness'</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">image</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="mi">0</span><span class="p">],</span> <span class="mi">255</span><span class="p">,</span> <span class="n">onChange</span><span class="p">)</span>  <span class="c1"># 트랙바 콜백 함수 등록</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">waitKey</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">cv2</span><span class="o">.</span><span class="n">destroyAllWindows</span><span class="p">()</span>
</pre></div>

    </div>
</div>
</div>

<div class="output_wrapper">
<div class="output">

<div class="output_area">

<div class="output_subarea output_stream output_stdout output_text">
<pre>추가 화소값: 5
추가 화소값: 4
추가 화소값: 2
추가 화소값: 2
추가 화소값: 1
추가 화소값: 2
추가 화소값: 1
추가 화소값: 3
추가 화소값: 1
추가 화소값: 1
추가 화소값: 1
추가 화소값: 1
추가 화소값: 1
추가 화소값: 1
추가 화소값: 1
추가 화소값: 1
추가 화소값: 2
추가 화소값: 1
추가 화소값: 1
추가 화소값: 1
</pre>
</div>
</div>

</div>
</div>

</div>
    

<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="4.3-그리기-함수">
<a class="anchor" href="#4.3-%EA%B7%B8%EB%A6%AC%EA%B8%B0-%ED%95%A8%EC%88%98" aria-hidden="true"><span class="octicon octicon-link"></span></a>4.3 그리기 함수<a class="anchor-link" href="#4.3-%EA%B7%B8%EB%A6%AC%EA%B8%B0-%ED%95%A8%EC%88%98"> </a>
</h2>
</div>
</div>
</div>
</div>



  </div><!-- from https://github.com/utterance/utterances -->
<script src="https://utteranc.es/client.js"
        repo="pinkocto/BP2022"
        issue-term="title"
        label="blogpost-comment"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script><a class="u-url" href="/BP2022/python/2022/09/02/chap4.html" hidden></a>
</article>
